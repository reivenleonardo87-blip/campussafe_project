<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Role-Based Dashboard - EduGuard Analytics</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Feduguarda7279back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.9"></script>
  <script type="module" src="https://static.rocket.new/rocket-shot.js?v=0.0.1"></script>
  </head>
<body class="bg-background min-h-screen">
   <!-- Mobile Navigation Overlay -->
    <div class="mobile-nav-overlay md:hidden" id="mobileNavOverlay"></div>
    
    <!-- Mobile Navigation Menu -->
    <div class="mobile-nav-menu md:hidden" id="mobileNavMenu">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-lg font-bold text-text-primary">Navigation</h2>
            <button id="closeMobileNav" class="text-text-secondary hover:text-primary">
                <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
        </div>
        <nav class="space-y-4">
            <a href="index.html" class="block px-4 py-3 text-text-primary hover:bg-gray-50 rounded-lg">Home</a>
            <a href="role_dashboard.html" class="block px-4 py-3 text-primary bg-primary-50 rounded-lg font-medium">Dashboard</a>
            <a href="incident_log.html" class="block px-4 py-3 text-text-primary hover:bg-gray-50 rounded-lg">Log Incident</a>
            <a href="analytics.html" class="block px-4 py-3 text-text-primary hover:bg-gray-50 rounded-lg">Analytics</a>
            <a href="sprofile.html" class="block px-4 py-3 text-text-primary hover:bg-gray-50 rounded-lg">Students</a>
            <a href="report_gen.html" class="block px-4 py-3 text-text-primary hover:bg-gray-50 rounded-lg">Reports</a>
            <a href="sys_admin.html" class="block px-4 py-3 text-text-primary hover:bg-gray-50 rounded-lg">Admin</a>
        </nav>
        
        <!-- User Profile in Mobile Menu -->
        <div class="mt-8 pt-6 border-t border-border-light">
            <div class="flex items-center space-x-3">
                <img src="https://images.unsplash.com/photo-1592831383329-23d79a212006" 
                     alt="Sarah Johnson profile picture" 
                     class="h-10 w-10 rounded-full object-cover"
                     onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                <div>
                    <p class="font-medium text-text-primary">Sarah Johnson</p>
                    <p class="text-sm text-text-secondary">Teacher</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation Header -->
    <nav class="bg-surface border-b border-border-light shadow-subtle sticky top-0 z-30">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo and Brand -->
                <div class="flex items-center space-x-4">
                    <div class="flex-shrink-0">
                        <svg class="h-8 w-8 text-primary" viewBox="0 0 32 32" fill="currentColor">
                            <path d="M16 2L3 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-13-5z"/>
                            <path d="M14 16l-2-2-1.41 1.41L14 18.83l6-6L18.59 11.41 14 16z" fill="white"/>
                        </svg>
                    </div>
                    <div class="hidden md:block">
                        <h1 class="text-xl font-bold text-text-primary">EduGuard Analytics</h1>
                    </div>
                    <div class="md:hidden">
                        <h1 class="text-lg font-bold text-text-primary">EduGuard</h1>
                    </div>
                </div>

                <!-- Main Navigation - Desktop -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="login.html" class="nav-link">Home</a>
                    <a href="role_dashboard.html" class="nav-link active">Dashboard</a>
                    <a href="incident_log.html" class="nav-link">Log Incident</a>
                    <a href="analytics.html" class="nav-link ">Analytics</a>
                    <a href="sprofile.html" class="nav-link">Students</a>
                    <a href="report_gen.html" class="nav-link ">Reports</a>
                    <a href="sys_admin.html" class="nav-link">Admin</a>
                </div>

                <!-- User Profile - Desktop -->
                <div class="hidden md:flex items-center space-x-4">
                    <div class="relative">
                        <button class="flex items-center space-x-2 text-text-secondary hover:text-primary transition-colors">
                            <img src="https://images.unsplash.com/photo-1592831383329-23d79a212006" 
                                 alt="Sarah Johnson profile picture" 
                                 class="h-8 w-8 rounded-full object-cover"
                                 onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                            <span class="hidden sm:block font-medium">Sarah Johnson</span>
                            <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Mobile menu button -->
                <div class="md:hidden flex items-center space-x-3">
                    <button id="openMobileNav" class="text-text-secondary hover:text-primary mobile-touch-button">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8">
        <!-- Role Selector & Welcome -->
        <div class="mb-6 sm:mb-8">
            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
                <div>
                    <h2 class="text-2xl sm:text-3xl font-bold text-text-primary">Welcome back, Sarah</h2>
                    <p class="text-text-secondary mt-1 text-sm sm:text-base">Here's what's happening with your students today</p>
                </div>
                
                <!-- Role Switcher -->
                <div class="flex items-center space-x-2">
                    <label class="text-sm font-medium text-text-secondary">View as:</label>
                    <select class="form-input py-2 px-3 text-sm min-w-32" id="roleSelector">
                        <option value="teacher" selected>Teacher</option>
                        <option value="counselor">Counselor</option>
                        <option value="administrator">Administrator</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Quick Actions Bar -->
        <div class="mb-6 sm:mb-8">
            <div class="bg-surface rounded-lg p-4 mobile-card-padding border border-border-light shadow-subtle">
                <h3 class="text-lg font-semibold text-text-primary mb-4">Quick Actions</h3>
                <div class="grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-3 sm:gap-4 quick-actions-grid">
                    <a href="incident_logging_interface.html" class="flex flex-col items-center p-2 sm:p-3 rounded-lg hover:bg-primary-50 transition-colors group mobile-touch-button">
                        <div class="bg-primary-100 p-2 rounded-lg group-hover:bg-primary-200 transition-colors">
                            <svg class="h-5 w-5 sm:h-6 sm:w-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <span class="text-xs sm:text-sm font-medium text-text-primary mt-2 text-center mobile-text-xs">Log Incident</span>
                    </a>
                    
                    <a href="student_profile_management.html" class="flex flex-col items-center p-2 sm:p-3 rounded-lg hover:bg-secondary-50 transition-colors group mobile-touch-button">
                        <div class="bg-secondary-100 p-2 rounded-lg group-hover:bg-secondary-200 transition-colors">
                            <svg class="h-5 w-5 sm:h-6 sm:w-6 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                            </svg>
                        </div>
                        <span class="text-xs sm:text-sm font-medium text-text-primary mt-2 text-center mobile-text-xs">View Students</span>
                    </a>
                    
                    <a href="analytics_visualization_hub.html" class="flex flex-col items-center p-2 sm:p-3 rounded-lg hover:bg-amber-50 transition-colors group mobile-touch-button">
                        <div class="bg-amber-100 p-2 rounded-lg group-hover:bg-amber-200 transition-colors">
                            <svg class="h-5 w-5 sm:h-6 sm:w-6 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                            </svg>
                        </div>
                        <span class="text-xs sm:text-sm font-medium text-text-primary mt-2 text-center mobile-text-xs">Analytics</span>
                    </a>
                    
                    <a href="report_generation_portal.html" class="flex flex-col items-center p-2 sm:p-3 rounded-lg hover:bg-purple-50 transition-colors group mobile-touch-button">
                        <div class="bg-purple-100 p-2 rounded-lg group-hover:bg-purple-200 transition-colors">
                            <svg class="h-5 w-5 sm:h-6 sm:w-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                            </svg>
                        </div>
                        <span class="text-xs sm:text-sm font-medium text-text-primary mt-2 text-center mobile-text-xs">Reports</span>
                    </a>
                    
                    <button class="flex flex-col items-center p-2 sm:p-3 rounded-lg hover:bg-gray-50 transition-colors group mobile-touch-button">
                        <div class="bg-gray-100 p-2 rounded-lg group-hover:bg-gray-200 transition-colors">
                            <svg class="h-5 w-5 sm:h-6 sm:w-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5v-5zM9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <span class="text-xs sm:text-sm font-medium text-text-primary mt-2 text-center mobile-text-xs">Approvals</span>
                    </button>
                    
                    <button class="flex flex-col items-center p-2 sm:p-3 rounded-lg hover:bg-blue-50 transition-colors group mobile-touch-button">
                        <div class="bg-blue-100 p-2 rounded-lg group-hover:bg-blue-200 transition-colors">
                            <svg class="h-5 w-5 sm:h-6 sm:w-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                            </svg>
                        </div>
                        <span class="text-xs sm:text-sm font-medium text-text-primary mt-2 text-center mobile-text-xs">Messages</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Priority Alerts -->
        <div class="mb-6 sm:mb-8" id="priorityAlerts">
            <h3 class="text-lg sm:text-xl font-semibold text-text-primary mb-4">Priority Alerts</h3>
            <div class="space-y-4">
                <div class="card-critical mobile-card-padding">
                    <div class="flex items-start space-x-3 sm:space-x-4">
                        <div class="flex-shrink-0">
                            <div class="bg-accent-100 p-2 rounded-lg">
                                <svg class="h-5 w-5 sm:h-6 sm:w-6 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h4 class="font-semibold text-text-primary text-sm sm:text-base">Escalated Incident - Marcus Thompson</h4>
                            <p class="text-text-secondary text-xs sm:text-sm mt-1">Repeated disruptive behavior in Math class. Requires immediate counselor intervention.</p>
                            <div class="flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4 mt-3">
                                <span class="status-error text-xs">High Priority</span>
                                <span class="text-xs text-text-secondary">2 hours ago</span>
                                <button class="btn-primary text-xs sm:text-sm py-2 px-3 mobile-touch-button w-full sm:w-auto">Take Action</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="alert-warning mobile-card-padding">
                    <div class="flex items-start space-x-3 sm:space-x-4">
                        <div class="flex-shrink-0">
                            <svg class="h-5 w-5 sm:h-6 sm:w-6 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h4 class="font-semibold text-amber-800 text-sm sm:text-base">Attendance Pattern Alert - Emma Rodriguez</h4>
                            <p class="text-amber-700 text-xs sm:text-sm mt-1">Missing 3 consecutive days. Parent contact recommended.</p>
                            <div class="flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4 mt-3">
                                <span class="status-warning text-xs">Medium Priority</span>
                                <span class="text-xs text-amber-600">1 day ago</span>
                                <button class="btn-outline text-xs sm:text-sm py-2 px-3 border-amber-500 text-amber-700 hover:bg-amber-500 hover:text-white mobile-touch-button w-full sm:w-auto">Review</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Widgets Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8 dashboard-main-grid">
            <!-- Left Column - Main Metrics -->
            <div class="lg:col-span-2 space-y-4 sm:space-y-6">
                <!-- Key Metrics Cards -->
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 metrics-grid">
                    <div class="data-card mobile-card-padding">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="metric-label text-xs sm:text-sm">My Students</p>
                                <p class="metric-value text-xl sm:text-2xl">28</p>
                                <p class="text-xs sm:text-sm text-secondary mt-1">+2 this semester</p>
                            </div>
                            <div class="bg-primary-100 p-2 sm:p-3 rounded-lg">
                                <svg class="h-6 w-6 sm:h-8 sm:w-8 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="data-card mobile-card-padding">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="metric-label text-xs sm:text-sm">Pending Actions</p>
                                <p class="metric-value text-xl sm:text-2xl">5</p>
                                <p class="text-xs sm:text-sm text-accent mt-1">2 urgent</p>
                            </div>
                            <div class="bg-accent-100 p-2 sm:p-3 rounded-lg">
                                <svg class="h-6 w-6 sm:h-8 sm:w-8 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="data-card mobile-card-padding">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="metric-label text-xs sm:text-sm">This Week</p>
                                <p class="metric-value text-xl sm:text-2xl">12</p>
                                <p class="text-xs sm:text-sm text-secondary mt-1">incidents logged</p>
                            </div>
                            <div class="bg-secondary-100 p-2 sm:p-3 rounded-lg">
                                <svg class="h-6 w-6 sm:h-8 sm:w-8 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="card mobile-card-padding">
                    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0 mb-4 sm:mb-6">
                        <h3 class="text-base sm:text-lg font-semibold text-text-primary">Recent Activity</h3>
                        <button class="text-primary hover:text-primary-700 text-sm font-medium text-left sm:text-right">View All</button>
                    </div>
                    
                    <div class="space-y-3 sm:space-y-4">
                        <div class="flex items-start space-x-3 sm:space-x-4 p-3 sm:p-4 bg-gray-50 rounded-lg">
                            <img src="https://images.unsplash.com/photo-1528254541641-f66249f4dac4" 
                                 alt="Alex Chen student photo" 
                                 class="h-8 w-8 sm:h-10 sm:w-10 rounded-full object-cover flex-shrink-0"
                                 onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                            <div class="flex-1 min-w-0">
                                <p class="text-xs sm:text-sm font-medium text-text-primary truncate">Alex Chen - Positive Behavior</p>
                                <p class="text-xs text-text-secondary mt-1">Helped classmate with assignment, showed excellent teamwork</p>
                                <p class="text-xs text-text-secondary mt-1">English Class • 30 minutes ago</p>
                            </div>
                            <span class="status-success text-xs flex-shrink-0">Positive</span>
                        </div>

                        <div class="flex items-start space-x-3 sm:space-x-4 p-3 sm:p-4 bg-gray-50 rounded-lg">
                            <img src="https://images.unsplash.com/photo-1672478865061-2241ac9f5faa" 
                                 alt="Jordan Williams student photo" 
                                 class="h-8 w-8 sm:h-10 sm:w-10 rounded-full object-cover flex-shrink-0"
                                 onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                            <div class="flex-1 min-w-0">
                                <p class="text-xs sm:text-sm font-medium text-text-primary truncate">Jordan Williams - Late Arrival</p>
                                <p class="text-xs text-text-secondary mt-1">Third late arrival this week, parent contact initiated</p>
                                <p class="text-xs text-text-secondary mt-1">Homeroom • 2 hours ago</p>
                            </div>
                            <span class="status-warning text-xs flex-shrink-0">Minor</span>
                        </div>

                        <div class="flex items-start space-x-3 sm:space-x-4 p-3 sm:p-4 bg-gray-50 rounded-lg">
                            <img src="https://images.unsplash.com/photo-1632215863479-201029d93143" 
                                 alt="Maya Patel student photo" 
                                 class="h-8 w-8 sm:h-10 sm:w-10 rounded-full object-cover flex-shrink-0"
                                 onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                            <div class="flex-1 min-w-0">
                                <p class="text-xs sm:text-sm font-medium text-text-primary truncate">Maya Patel - Academic Achievement</p>
                                <p class="text-xs text-text-secondary mt-1">Scored 98% on Science test, consistent improvement noted</p>
                                <p class="text-xs text-text-secondary mt-1">Science Class • 4 hours ago</p>
                            </div>
                            <span class="status-success text-xs flex-shrink-0">Achievement</span>
                        </div>
                    </div>
                </div>

                <!-- Weekly Trend Chart -->
                <div class="card mobile-card-padding">
                    <h3 class="text-base sm:text-lg font-semibold text-text-primary mb-4 sm:mb-6">Weekly Incident Trends</h3>
                    <div class="h-48 sm:h-64 bg-gray-50 rounded-lg flex items-center justify-center">
                        <div class="text-center px-4">
                            <svg class="h-12 w-12 sm:h-16 sm:w-16 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                            </svg>
                            <p class="text-gray-500 text-sm">Interactive chart will load here</p>
                            <p class="text-xs sm:text-sm text-gray-400 mt-1">Showing behavioral trends over time</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column - Sidebar Widgets -->
            <div class="space-y-4 sm:space-y-6">
                <!-- Today's Schedule -->
                <div class="card mobile-card-padding">
                    <h3 class="text-base sm:text-lg font-semibold text-text-primary mb-4">Today's Schedule</h3>
                    <div class="space-y-3">
                        <div class="flex items-center space-x-3 p-3 bg-primary-50 rounded-lg">
                            <div class="bg-primary text-white rounded-full h-8 w-8 flex items-center justify-center text-sm font-medium flex-shrink-0">
                                9
                            </div>
                            <div class="flex-1 min-w-0">
                                <p class="font-medium text-text-primary text-sm sm:text-base truncate">Math - Room 204</p>
                                <p class="text-xs sm:text-sm text-text-secondary">9:00 AM - 9:50 AM</p>
                            </div>
                            <span class="status-success text-xs flex-shrink-0">Current</span>
                        </div>

                        <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
                            <div class="bg-gray-400 text-white rounded-full h-8 w-8 flex items-center justify-center text-sm font-medium flex-shrink-0">
                                10
                            </div>
                            <div class="flex-1 min-w-0">
                                <p class="font-medium text-text-primary text-sm sm:text-base truncate">English - Room 108</p>
                                <p class="text-xs sm:text-sm text-text-secondary">10:00 AM - 10:50 AM</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Student Spotlight -->
                <div class="card mobile-card-padding">
                    <h3 class="text-base sm:text-lg font-semibold text-text-primary mb-4">Student Spotlight</h3>
                    <div class="text-center">
                        <img src="https://images.unsplash.com/photo-1623964447740-598a2f5917b6" 
                             alt="Student of the week - Aisha Kumar" 
                             class="h-16 w-16 sm:h-20 sm:w-20 rounded-full object-cover mx-auto mb-4"
                             onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;">
                        <h4 class="font-semibold text-text-primary text-sm sm:text-base">Aisha Kumar</h4>
                        <p class="text-xs sm:text-sm text-text-secondary mb-3">Student of the Week</p>
                        <p class="text-xs text-text-secondary mb-3">Consistently helpful to peers and showing remarkable improvement in all subjects.</p>
                        <button class="btn-outline text-xs sm:text-sm py-2 px-3 mt-3 mobile-touch-button w-full sm:w-auto">View Profile</button>
                    </div>
                </div>

                <!-- Quick Stats -->
                <div class="card mobile-card-padding">
                    <h3 class="text-base sm:text-lg font-semibold text-text-primary mb-4">Quick Stats</h3>
                    <div class="space-y-3 sm:space-y-4">
                        <div class="flex justify-between items-center">
                            <span class="text-xs sm:text-sm text-text-secondary">Attendance Rate</span>
                            <span class="font-semibold text-secondary text-sm sm:text-base">94.2%</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-xs sm:text-sm text-text-secondary">Positive Behaviors</span>
                            <span class="font-semibold text-secondary text-sm sm:text-base">47</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-xs sm:text-sm text-text-secondary">Interventions Active</span>
                            <span class="font-semibold text-primary text-sm sm:text-base">3</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-xs sm:text-sm text-text-secondary">Parent Contacts</span>
                            <span class="font-semibold text-text-primary text-sm sm:text-base">12</span>
                        </div>
                    </div>
                </div>

                <!-- Notifications -->
                <div class="card mobile-card-padding">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-base sm:text-lg font-semibold text-text-primary">Notifications</h3>
                        <span class="bg-accent text-white text-xs px-2 py-1 rounded-full">3</span>
                    </div>
                    <div class="space-y-3">
                        <div class="p-3 bg-blue-50 rounded-lg border-l-4 border-primary">
                            <p class="text-xs sm:text-sm font-medium text-text-primary">New message from counselor</p>
                            <p class="text-xs text-text-secondary mt-1">Regarding Marcus Thompson intervention plan</p>
                        </div>
                        <div class="p-3 bg-green-50 rounded-lg border-l-4 border-secondary">
                            <p class="text-xs sm:text-sm font-medium text-text-primary">Report ready for download</p>
                            <p class="text-xs text-text-secondary mt-1">Weekly behavioral summary available</p>
                        </div>
                        <div class="p-3 bg-amber-50 rounded-lg border-l-4 border-amber-500">
                            <p class="text-xs sm:text-sm font-medium text-text-primary">System maintenance scheduled</p>
                            <p class="text-xs text-text-secondary mt-1">Sunday 2:00 AM - 4:00 AM EST</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Role-specific content script -->
    <script>
        // Mobile Navigation functionality
        const openMobileNav = document.getElementById('openMobileNav');
        const closeMobileNav = document.getElementById('closeMobileNav');
        const mobileNavMenu = document.getElementById('mobileNavMenu');
        const mobileNavOverlay = document.getElementById('mobileNavOverlay');

        function showMobileNav() {
            mobileNavMenu.classList.add('active');
            mobileNavOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function hideMobileNav() {
            mobileNavMenu.classList.remove('active');
            mobileNavOverlay.classList.remove('active');
            document.body.style.overflow = '';
        }

        openMobileNav.addEventListener('click', showMobileNav);
        closeMobileNav.addEventListener('click', hideMobileNav);
        mobileNavOverlay.addEventListener('click', hideMobileNav);

        // Role selector functionality
        document.getElementById('roleSelector').addEventListener('change', function(e) {
            const role = e.target.value;
            const alertsSection = document.getElementById('priorityAlerts');
            
            // Update dashboard content based on role
            if (role === 'counselor') {
                document.querySelector('h2').textContent = 'Counselor Dashboard';
                document.querySelector('h2 + p').textContent = 'Review incidents and manage intervention plans';
            } else if (role === 'administrator') {
                document.querySelector('h2').textContent = 'Administrator Dashboard';
                document.querySelector('h2 + p').textContent = 'System overview and school-wide analytics';
            } else {
                document.querySelector('h2').textContent = 'Welcome back, Sarah';
                document.querySelector('h2 + p').textContent = "Here's what's happening with your students today";
            }
        });

        // Simulate real-time updates
        setInterval(function() {
            const timestamp = new Date().toLocaleTimeString();
            console.log('Dashboard updated at:', timestamp);
        }, 30000);

        // Handle viewport orientation changes
        window.addEventListener('orientationchange', function() {
            // Hide mobile nav on orientation change
            hideMobileNav();
            
            // Force viewport recalculation
            setTimeout(function() {
                window.scrollTo(0, 0);
            }, 100);
        });

        // Touch event improvements for mobile
        if ('ontouchstart' in window) {
            // Add touch feedback for buttons
            const touchButtons = document.querySelectorAll('.mobile-touch-button');
            touchButtons.forEach(button => {
                button.addEventListener('touchstart', function() {
                    this.style.opacity = '0.7';
                });
                button.addEventListener('touchend', function() {
                    this.style.opacity = '1';
                });
            });
        }

        // Prevent zoom on input focus on iOS
        const viewport = document.querySelector('meta[name=viewport]');
        if (viewport) {
            viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no');
        }
    </script>
<script id="dhws-dataInjector" src="../public/dhws-data-injector.js"></script>
</body>
</html>